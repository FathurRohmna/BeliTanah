<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>BeliTanah | Halaman utama</title>

    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">
</head>

<body>
    <div class="relative w-full">
        <div class="w-full bg-gray-900 text-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3">
                <h5 class="font-bold text-lg">Kenali kita lebih lanjut <a href="./tentang.html" class="underline">disini</a></h5>
            </div>
        </div>
        <div class="relative w-full">
            <div class="absolute top-0 right-0 left-0 bg-white/70">
                <div class="max-w-7xl mx-auto">
                    <div class="relative z-10 lg:pb-8 pb-0 bg-transparent">
                        <div class="relative pt-6 px-4 sm:px-6 lg:px-8">
                            <nav class="relative flex items-center justify-between sm:h-10">
                                <div class="flex items-center flex-grow flex-shrink-0 lg:flex-grow-0">
                                    <div class="flex items-center justify-between w-full md:w-auto">
                                        <a href="./index.html" class="ml-2">
                                            <span class="sr-only">BeliTanah</span>
                                            <img class="h-6 w-auto" src="/assets/images/beli-tanah.png" />
                                        </a>
                                    </div>
                                </div>
                                <div class="hidden md:block md:ml-10 md:pr-4 md:space-x-8">
                                    <a href="./list-tanah.html" class="font-semibold text-lg text-gray-700 hover:text-gray-500">List tanah</a>
                                    <a href="./list-agen.html" class="font-semibold text-lg text-gray-700 hover:text-gray-500">List agen</a>
                                    <a href="./simulasi-harga.html" class="font-semibold text-lg text-gray-700 hover:text-gray-500">Simulasi harga</a>
                                    <a href="./kontak.html" class="font-semibold text-lg  text-gray-700 hover:text-gray-500">Kontak</a>
                                    <a href="./authentikasi.html" class="font-semibold text-lg  text-gray-700 hover:text-gray-500">Jual tanah</a>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <main class="min-h-[80vh] my-24">
            <div class="max-w-7xl mx-auto space-y-6">
                <h3 class="mt-6 text-3xl font-bold">List Tanah</h3>

                <div>
                    <form method="GET" action="" id="filterForm">
                        <!-- Search by Location -->
                        <input type="search" name="lokasi" placeholder="Search by location..." aria-label="Search" value="" />
                    
                        <!-- Filter by Size -->
                        <select name="size" class="block w-full px-4 py-3 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50">
                            <option value="">Select Size</option>
                            <option value="24x24">24x24 m</option>
                            <option value="30x40">30x40 m</option>
                            <option value="50x60">50x60 m</option>
                        </select>
                    
                        <!-- Filter by Type -->
                        <select name="type" class="block w-full px-4 py-3 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50">
                            <option value="">Select Type</option>
                            <option value="Residential">Residential</option>
                            <option value="Commercial">Commercial</option>
                            <option value="Agricultural">Agricultural</option>
                        </select>
                    
                        <!-- Filter by Installments -->
                        <select name="angsur" class="block w-full px-4 py-3 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50">
                            <option value="">Installment Option</option>
                            <option value="Yes">Yes, Bisa Angsur</option>
                            <option value="No">No</option>
                        </select>
                    
                        <!-- Filter by Negotiable -->
                        <select name="negotiable" class="block w-full px-4 py-3 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50">
                            <option value="">Negotiable</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    
                        <button type="submit">Apply Filter</button>
                    </form>
                </div>

                <div id="tanah-rekomendasi" class="grid w-full grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 lg:gap-6">

                </div>
            </div>
        </main>
    
        <footer class="bg-gray-900 pt-16 pb-20 px-8 box-border">
            <div class="max-w-7xl mx-auto text-xs">
                <div
                    class="relative grid grid-cols-2 gap-8 lg:grid-cols-5 sm:grid-cols-4 pb-8 sm:pb-10 md:pb-12 lg:pb-14 text-white">
                    <div class="mb-6">
                        <h1 class="text-3xl font-bold text-white mb-2">BeliTanah</h1>
                        <p class="mb-2 leading-6">Temukan Tanah Impianmu di BeliTanah.</p>
                        
                    </div>
                    <div class="">
                        <h1 class="font-bold mb-2 text-white">Explore</h1>
                        <a class="block leading-6">List tanah</a>
                        <a class="block leading-6">List agen</a>
                        <a class="block leading-6">Simulasi harga</a>
                        <a href="./kontak.html" class="block leading-6">Kontak</a>
                        <a class="block leading-6">Jual tanah</a>
                    </div>
                    <div class="">
                        <h1 class="font-bold mb-2 text-white">Visit</h1>
                        <p class="leading-6">Karangbawang, Kawunganten <br /> Cilacap, Jawa Tengah <br /> Indonesia.</p>
                    </div>
                    <div>
                        <h1 class="mb-2 font-bold text-white">New Business</h1>
                        <p class="leading-6">fr089138@gmail.com</p>
                        <p class="leading-6">+62 838-6788-6915</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Example dataset (can be fetched from API/database)
        const landListings = [
            {
                lokasi: 'Castaic, CA',
                ukuran: '24x24',
                type: 'Residential',
                angsur: 'Yes',
                negotiable: 'Yes',
                price: 'Rp. 12 Juta',
                publisher: 'hello@gmail.com'
            },
            {
                lokasi: 'Los Angeles, CA',
                ukuran: '30x40',
                type: 'Commercial',
                angsur: 'No',
                negotiable: 'No',
                price: 'Rp. 15 Juta',
                publisher: 'la@gmail.com'
            },
            // More listings...
        ];
    
        // Helper function to get URL parameters
function getUrlParams() {
    const params = new URLSearchParams(window.location.search);
    return {
        lokasi: params.get('lokasi') || '',
        size: params.get('size') || '',
        type: params.get('type') || '',
        angsur: params.get('angsur') || '',
        negotiable: params.get('negotiable') || ''
    };
}

// Apply filters on page load
document.addEventListener('DOMContentLoaded', () => {
    const { lokasi, size, type, angsur, negotiable } = getUrlParams();

    // Pre-populate the form with the URL values
    document.querySelector('input[name="lokasi"]').value = lokasi;
    document.querySelector('select[name="size"]').value = size;
    document.querySelector('select[name="type"]').value = type;
    document.querySelector('select[name="angsur"]').value = angsur;
    document.querySelector('select[name="negotiable"]').value = negotiable;

    // Apply filters automatically when the page loads
    applyFilters();
});

function applyFilters() {
    const { lokasi, size, type, angsur, negotiable } = getUrlParams();

    // Filter logic
    const filteredListings = landListings.filter(listing => {
        const matchesLokasi = lokasi === '' || listing.lokasi.toLowerCase().includes(lokasi.toLowerCase());
        const matchesSize = size === '' || listing.ukuran === size;
        const matchesType = type === '' || listing.type === type;
        const matchesAngsur = angsur === '' || listing.angsur === angsur;
        const matchesNegotiable = negotiable === '' || listing.negotiable === negotiable;

        return matchesLokasi && matchesSize && matchesType && matchesAngsur && matchesNegotiable;
    });

    // Render listings as in the previous example
    const tanahRekomendasiDiv = document.getElementById('tanah-rekomendasi');
    tanahRekomendasiDiv.innerHTML = '';

    if (filteredListings.length > 0) {
        filteredListings.forEach(listing => {
            const listingElement = `
                <div class="w-full rounded overflow-hidden shadow-lg">
                    <div class="relative">
                        <img class="w-full" src="https://via.placeholder.com/150" alt="${listing.lokasi}">
                        <div class="absolute bottom-4 right-4 bg-white/90 rounded px-4 py-2">
                            <span class="font-bold text-xl">${listing.price}</span>
                        </div>
                    </div>
                    <div class="px-6 py-4 space-y-1 text-md">
                        <div class="mb-3 flex items-start gap-2">
                            <div>
                                <div class="font-bold text-xl mb-2">${listing.lokasi}</div>
                                <span class="text-sm underline">Lihat di google maps</span>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <p>${listing.type}</p>
                            <p>${listing.ukuran}</p>
                        </div>
                        <div class="flex items-center justify-between">
                            <p>${listing.angsur === 'Yes' ? 'Bisa angsur' : 'Tidak bisa angsur'}</p>
                        </div>
                        <p>Publisher: <span>${listing.publisher}</span></p>
                    </div>
                    <div class="p-4">
                        <button class="w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                            Beli
                        </button>
                    </div>
                </div>
            `;
            tanahRekomendasiDiv.innerHTML += listingElement;
        });
    } else {
        tanahRekomendasiDiv.innerHTML = '<p class="text-center text-gray-500">No listings found</p>';
    }
}

        document.addEventListener('DOMContentLoaded', function () {
            // Event listener for the filter button
            document.querySelector('button[type="button"]').addEventListener('click', applyFilters);
        });

        applyFilters()
    </script>
</body>

</html>